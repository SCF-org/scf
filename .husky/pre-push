echo "ğŸš€ Running pre-push checks..."
echo ""

# 1. Build check
echo "ğŸ“¦ Step 1/3: Building project..."
npm run build
if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ Build failed! Please fix build errors before pushing."
  exit 1
fi
echo "âœ… Build passed!"
echo ""

# 2. Lint check
echo "ğŸ” Step 2/3: Running linter..."
npm run lint
if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ Lint failed! Please fix lint errors before pushing."
  echo "ğŸ’¡ Tip: Run 'npm run lint:fix' to auto-fix some issues."
  exit 1
fi
echo "âœ… Lint passed!"
echo ""

# 3. Unit tests
echo "ğŸ§ª Step 3/3: Running unit tests..."
npm run test:unit
if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ Tests failed! Please fix failing tests before pushing."
  exit 1
fi
echo "âœ… Tests passed!"
echo ""

echo "ğŸ‰ All checks passed! Pushing to remote..."
echo ""
