echo "ğŸš€ Running pre-push checks..."
echo ""

# 1. Build check
echo "ğŸ“¦ Step 1/4: Building project..."
npm run build
if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ Build failed! Please fix build errors before pushing."
  exit 1
fi
echo "âœ… Build passed!"
echo ""

# 2. Lint check
echo "ğŸ” Step 2/4: Running linter..."
npm run lint
if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ Lint failed! Please fix lint errors before pushing."
  echo "ğŸ’¡ Tip: Run 'npm run lint:fix' to auto-fix some issues."
  exit 1
fi
echo "âœ… Lint passed!"
echo ""

# 3. Unit tests
echo "ğŸ§ª Step 3/4: Running unit tests..."
npm run test:unit
if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ Unit tests failed! Please fix failing tests before pushing."
  exit 1
fi
echo "âœ… Unit tests passed!"
echo ""

# 4. Integration tests
echo "ğŸ”— Step 4/4: Running integration tests..."
npm run test:integration
if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ Integration tests failed! Please fix failing tests before pushing."
  exit 1
fi
echo "âœ… Integration tests passed!"
echo ""

echo "ğŸ‰ All checks passed! Pushing to remote..."
echo ""
